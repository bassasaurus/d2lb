{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport AppTextInput from \"./AppTextInput\";\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport api from \"../api/axiosConfig\";\nimport { STYLES } from \"../styles/styles\";\nimport FlatListItemSeparator from \"./FlatListItemSeparator\";\nimport AppText from \"./AppText\";\nimport Separator from \"./Separator\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nfunction TailnumberPicker(_ref) {\n  var initialValue = _ref.initialValue,\n      setFieldValue = _ref.setFieldValue,\n      aircraftId = _ref.aircraftId,\n      setAcTailMatch = _ref.setAcTailMatch,\n      isValid = _ref.isValid;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      visible = _useState4[0],\n      setVisible = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      value = _useState6[0],\n      setValue = _useState6[1];\n\n  var navigation = useNavigation();\n\n  var fetchData = function fetchData() {\n    var result;\n    return _regeneratorRuntime.async(function fetchData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(api.get(\"/api/tailnumbers/\", {\n              params: {\n                aircraft: aircraftId\n              }\n            }));\n\n          case 3:\n            result = _context.sent;\n            setData(result.data);\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            null;\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return React.createElement(View, {\n      style: styles.container\n    }, React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        setVisible(false);\n        setFieldValue(\"registration\", item.registration);\n        setValue(item.registration);\n        setAcTailMatch(true);\n      }\n    }, React.createElement(Text, {\n      style: styles.listItem\n    }, item.registration)));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Pressable, {\n    onPress: function onPress() {\n      fetchData();\n      setVisible(true);\n    }\n  }, React.createElement(View, {\n    pointerEvents: \"none\"\n  }, React.createElement(AppTextInput, {\n    isValid: isValid,\n    value: !value ? initialValue : value,\n    placeholder: \"Tailnumber\"\n  }))), React.createElement(View, {\n    style: styles.centeredView\n  }, React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: true,\n    visible: visible\n  }, React.createElement(View, {\n    style: styles.modalView\n  }, React.createElement(FlatList, {\n    data: data.results,\n    renderItem: renderItem,\n    keyExtractor: function keyExtractor(item) {\n      return item.id.toString();\n    },\n    ItemSeparatorComponent: FlatListItemSeparator\n  }), React.createElement(Separator, null), React.createElement(View, {\n    style: {\n      paddingBottom: 30\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      navigation.navigate(\"TailnumberCreate\");\n      setVisible(false);\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"plus\",\n    size: 40,\n    color: \"green\",\n    backgroundColor: STYLES.white\n  })))))));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  input: {\n    borderWidth: 1\n  },\n  modalView: {\n    margin: 50,\n    paddingBottom: 30,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 10,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 2,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  listItem: {\n    fontFamily: STYLES.font,\n    fontSize: 20,\n    color: STYLES.blue,\n    marginTop: 20\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 0\n  }\n});\nexport default TailnumberPicker;","map":{"version":3,"names":["React","useState","useEffect","AppTextInput","MaterialCommunityIcons","api","STYLES","FlatListItemSeparator","AppText","Separator","useNavigation","TailnumberPicker","initialValue","setFieldValue","aircraftId","setAcTailMatch","isValid","data","setData","visible","setVisible","value","setValue","navigation","fetchData","get","params","aircraft","result","renderItem","item","styles","container","registration","listItem","centeredView","modalView","results","id","toString","paddingBottom","navigate","white","StyleSheet","create","flex","input","borderWidth","margin","backgroundColor","borderRadius","padding","alignItems","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","fontFamily","font","fontSize","color","blue","marginTop","justifyContent"],"sources":["/Users/blake/react_native/d2lb/app/components/TailnumberPicker.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  View,\n  StyleSheet,\n  Modal,\n  Text,\n  FlatList,\n  Pressable,\n  TouchableOpacity,\n} from \"react-native\";\nimport AppTextInput from \"./AppTextInput\";\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\n\nimport api from \"../api/axiosConfig\";\nimport { STYLES } from \"../styles/styles\";\nimport FlatListItemSeparator from \"./FlatListItemSeparator\";\nimport AppText from \"./AppText\";\nimport Separator from \"./Separator\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nfunction TailnumberPicker({\n  initialValue,\n  setFieldValue,\n  aircraftId,\n  setAcTailMatch,\n  isValid,\n}) {\n  const [data, setData] = useState([]);\n  const [visible, setVisible] = useState(false);\n  const [value, setValue] = useState(\"\");\n\n  const navigation = useNavigation();\n\n  const fetchData = async () => {\n    try {\n      const result = await api.get(`/api/tailnumbers/`, {\n        params: {\n          aircraft: aircraftId,\n        },\n      });\n      setData(result.data);\n    } catch (error) {\n      // console.log(error.response);\n      null;\n    }\n  };\n\n  const renderItem = ({ item }) => (\n    <View style={styles.container}>\n      <TouchableOpacity\n        onPress={() => {\n          setVisible(false);\n          setFieldValue(\"registration\", item.registration);\n          setValue(item.registration);\n          setAcTailMatch(true);\n        }}\n      >\n        <Text style={styles.listItem}>{item.registration}</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  return (\n    <>\n      <Pressable\n        onPress={() => {\n          fetchData();\n          setVisible(true);\n        }}\n      >\n        <View pointerEvents={\"none\"}>\n          <AppTextInput\n            isValid={isValid}\n            value={!value ? initialValue : value}\n            placeholder={\"Tailnumber\"}\n          ></AppTextInput>\n        </View>\n      </Pressable>\n\n      <View style={styles.centeredView}>\n        <Modal animationType='slide' transparent={true} visible={visible}>\n          <View style={styles.modalView}>\n            <FlatList\n              data={data.results}\n              renderItem={renderItem}\n              keyExtractor={(item) => item.id.toString()}\n              ItemSeparatorComponent={FlatListItemSeparator}\n            />\n            <Separator></Separator>\n            <View style={{ paddingBottom: 30 }}>\n              <TouchableOpacity\n                onPress={() => {\n                  navigation.navigate(\"TailnumberCreate\");\n                  setVisible(false);\n                }}\n              >\n                <MaterialCommunityIcons\n                  name='plus'\n                  size={40}\n                  color='green'\n                  backgroundColor={STYLES.white}\n                ></MaterialCommunityIcons>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </Modal>\n      </View>\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  input: {\n    borderWidth: 1,\n  },\n  modalView: {\n    margin: 50,\n    paddingBottom: 30,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 10,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 2,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5,\n  },\n  listItem: {\n    fontFamily: STYLES.font,\n    fontSize: 20,\n    color: STYLES.blue,\n    marginTop: 20,\n  },\n\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 0,\n  },\n});\n\nexport default TailnumberPicker;\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;;;;;AAUA,OAAOC,YAAP;AACA,SAASC,sBAAT,QAAuC,oBAAvC;AAEA,OAAOC,GAAP;AACA,SAASC,MAAT;AACA,OAAOC,qBAAP;AACA,OAAOC,OAAP;AACA,OAAOC,SAAP;AACA,SAASC,aAAT,QAA8B,0BAA9B;;AAEA,SAASC,gBAAT,OAMG;EAAA,IALDC,YAKC,QALDA,YAKC;EAAA,IAJDC,aAIC,QAJDA,aAIC;EAAA,IAHDC,UAGC,QAHDA,UAGC;EAAA,IAFDC,cAEC,QAFDA,cAEC;EAAA,IADDC,OACC,QADDA,OACC;;EACD,gBAAwBf,QAAQ,CAAC,EAAD,CAAhC;EAAA;EAAA,IAAOgB,IAAP;EAAA,IAAaC,OAAb;;EACA,iBAA8BjB,QAAQ,CAAC,KAAD,CAAtC;EAAA;EAAA,IAAOkB,OAAP;EAAA,IAAgBC,UAAhB;;EACA,iBAA0BnB,QAAQ,CAAC,EAAD,CAAlC;EAAA;EAAA,IAAOoB,KAAP;EAAA,IAAcC,QAAd;;EAEA,IAAMC,UAAU,GAAGb,aAAa,EAAhC;;EAEA,IAAMc,SAAS,GAAG,SAAZA,SAAY;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;YAAA,iCAEOnB,GAAG,CAACoB,GAAJ,sBAA6B;cAChDC,MAAM,EAAE;gBACNC,QAAQ,EAAEb;cADJ;YADwC,CAA7B,CAFP;;UAAA;YAERc,MAFQ;YAOdV,OAAO,CAACU,MAAM,CAACX,IAAR,CAAP;YAPc;YAAA;;UAAA;YAAA;YAAA;YAUd;;UAVc;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAlB;;EAcA,IAAMY,UAAU,GAAG,SAAbA,UAAa;IAAA,IAAGC,IAAH,SAAGA,IAAH;IAAA,OACjB,oBAAC,IAAD;MAAM,KAAK,EAAEC,MAAM,CAACC;IAApB,GACE,oBAAC,gBAAD;MACE,OAAO,EAAE,mBAAM;QACbZ,UAAU,CAAC,KAAD,CAAV;QACAP,aAAa,CAAC,cAAD,EAAiBiB,IAAI,CAACG,YAAtB,CAAb;QACAX,QAAQ,CAACQ,IAAI,CAACG,YAAN,CAAR;QACAlB,cAAc,CAAC,IAAD,CAAd;MACD;IANH,GAQE,oBAAC,IAAD;MAAM,KAAK,EAAEgB,MAAM,CAACG;IAApB,GAA+BJ,IAAI,CAACG,YAApC,CARF,CADF,CADiB;EAAA,CAAnB;;EAeA,OACE,0CACE,oBAAC,SAAD;IACE,OAAO,EAAE,mBAAM;MACbT,SAAS;MACTJ,UAAU,CAAC,IAAD,CAAV;IACD;EAJH,GAME,oBAAC,IAAD;IAAM,aAAa,EAAE;EAArB,GACE,oBAAC,YAAD;IACE,OAAO,EAAEJ,OADX;IAEE,KAAK,EAAE,CAACK,KAAD,GAAST,YAAT,GAAwBS,KAFjC;IAGE,WAAW,EAAE;EAHf,EADF,CANF,CADF,EAgBE,oBAAC,IAAD;IAAM,KAAK,EAAEU,MAAM,CAACI;EAApB,GACE,oBAAC,KAAD;IAAO,aAAa,EAAC,OAArB;IAA6B,WAAW,EAAE,IAA1C;IAAgD,OAAO,EAAEhB;EAAzD,GACE,oBAAC,IAAD;IAAM,KAAK,EAAEY,MAAM,CAACK;EAApB,GACE,oBAAC,QAAD;IACE,IAAI,EAAEnB,IAAI,CAACoB,OADb;IAEE,UAAU,EAAER,UAFd;IAGE,YAAY,EAAE,sBAACC,IAAD;MAAA,OAAUA,IAAI,CAACQ,EAAL,CAAQC,QAAR,EAAV;IAAA,CAHhB;IAIE,sBAAsB,EAAEhC;EAJ1B,EADF,EAOE,oBAAC,SAAD,OAPF,EAQE,oBAAC,IAAD;IAAM,KAAK,EAAE;MAAEiC,aAAa,EAAE;IAAjB;EAAb,GACE,oBAAC,gBAAD;IACE,OAAO,EAAE,mBAAM;MACbjB,UAAU,CAACkB,QAAX,CAAoB,kBAApB;MACArB,UAAU,CAAC,KAAD,CAAV;IACD;EAJH,GAME,oBAAC,sBAAD;IACE,IAAI,EAAC,MADP;IAEE,IAAI,EAAE,EAFR;IAGE,KAAK,EAAC,OAHR;IAIE,eAAe,EAAEd,MAAM,CAACoC;EAJ1B,EANF,CADF,CARF,CADF,CADF,CAhBF,CADF;AA+CD;;AAED,IAAMX,MAAM,GAAGY,UAAU,CAACC,MAAX,CAAkB;EAC/BZ,SAAS,EAAE;IACTa,IAAI,EAAE;EADG,CADoB;EAI/BC,KAAK,EAAE;IACLC,WAAW,EAAE;EADR,CAJwB;EAO/BX,SAAS,EAAE;IACTY,MAAM,EAAE,EADC;IAETR,aAAa,EAAE,EAFN;IAGTS,eAAe,EAAE,OAHR;IAITC,YAAY,EAAE,EAJL;IAKTC,OAAO,EAAE,EALA;IAMTC,UAAU,EAAE,QANH;IAOTC,WAAW,EAAE,MAPJ;IAQTC,YAAY,EAAE;MACZC,KAAK,EAAE,CADK;MAEZC,MAAM,EAAE;IAFI,CARL;IAYTC,aAAa,EAAE,IAZN;IAaTC,YAAY,EAAE,CAbL;IAcTC,SAAS,EAAE;EAdF,CAPoB;EAuB/BzB,QAAQ,EAAE;IACR0B,UAAU,EAAEtD,MAAM,CAACuD,IADX;IAERC,QAAQ,EAAE,EAFF;IAGRC,KAAK,EAAEzD,MAAM,CAAC0D,IAHN;IAIRC,SAAS,EAAE;EAJH,CAvBqB;EA8B/B9B,YAAY,EAAE;IACZU,IAAI,EAAE,CADM;IAEZqB,cAAc,EAAE,QAFJ;IAGZd,UAAU,EAAE,QAHA;IAIZa,SAAS,EAAE;EAJC;AA9BiB,CAAlB,CAAf;AAsCA,eAAetD,gBAAf"},"metadata":{},"sourceType":"module"}