{"ast":null,"code":"var _jsxFileName = \"/Users/blake/react_native/d2lb/app/screens/FlightDetailScreen.js\";\nimport React, { useRef, useEffect } from \"react\";\nimport MapView, { Marker, Polyline } from \"react-native-maps\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { STYLES } from \"../styles/styles\";\nimport Icon from \"../components/Icon\";\nimport api from \"../api/axiosConfig\";\n\nfunction FlightDetailScreen(_ref) {\n  var _this = this;\n\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var markers = route.params.item.app_markers;\n  var polylines = route.params.item.app_polylines.coordinates;\n  var mapRef = useRef(null);\n\n  var deleteItem = function deleteItem(primary_key, date, route) {\n    var url = \"/api/flights/\" + primary_key + \"/\";\n    api.delete(url).then(function (response) {\n      if (response.status === 204) {\n        Alert.alert(\"Succesfully Deleted\", date + \" \" + route + \" \" + \"#\" + primary_key);\n        navigation.goBack();\n      } else {\n        Alert.alert(\"Something went wrong, please try again\");\n      }\n    });\n  };\n\n  var showAlert = function showAlert(primary_key, date, route) {\n    return Alert.alert(\"Are you sure?\", \"This can't be undone\", [{\n      text: \"Yes\",\n      onPress: function onPress() {\n        return deleteItem(primary_key, date, route);\n      }\n    }, {\n      text: \"Cancel\",\n      style: \"cancel\"\n    }, {\n      cancelable: false\n    }]);\n  };\n\n  useEffect(function () {\n    mapRef.current.fitToCoordinates(polylines);\n  }, []);\n  return React.createElement(View, {\n    style: styles.container\n  }, React.createElement(View, {\n    style: styles.detailsPanel\n  }, React.createElement(View, {\n    style: styles.firstColumn\n  }, React.createElement(Text, {\n    style: styles.text\n  }, route.params.item.date), React.createElement(Text, {\n    style: styles.text\n  }, route.params.item.id)), React.createElement(View, {\n    style: styles.secondColumn\n  }), React.createElement(View, {\n    style: styles.thirdColumn\n  }), React.createElement(View, {\n    style: styles.fourthColumn\n  }, React.createElement(TouchableOpacity, {\n    style: styles.topArea,\n    onPress: function onPress() {\n      showAlert(route.params.item.id, route.params.item.date, route.params.item.route);\n    }\n  }, React.createElement(View, null, React.createElement(Icon, {\n    name: \"delete\"\n  }))), React.createElement(TouchableOpacity, {\n    style: styles.bottomArea,\n    onPress: function onPress() {\n      return console.log(\"update\");\n    }\n  }, React.createElement(View, null, React.createElement(Icon, {\n    name: \"update\"\n  }))))), React.createElement(MapView, {\n    style: styles.map,\n    mapPadding: {\n      top: 60,\n      bottom: 10,\n      right: 40,\n      left: 40\n    },\n    ref: mapRef\n  }, markers.map(function (marker) {\n    return React.createElement(Marker, {\n      key: marker.key,\n      coordinate: marker.coordinates,\n      title: marker.title\n    });\n  }), React.createElement(Polyline, {\n    strokeColor: STYLES.blue,\n    strokeWidth: 3,\n    geodesic: true,\n    coordinates: polylines\n  })));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: \"column\"\n  },\n  detailsPanel: {\n    flexDirection: \"row\",\n    flex: 0.2,\n    width: \"100%\",\n    margin: 5,\n    backgroundColor: STYLES.white,\n    borderRadius: STYLES.borderRadius,\n    padding: STYLES.borderRadius,\n    backgroundColor: STYLES.white,\n    borderRadius: STYLES.borderRadius\n  },\n  firstColumn: {\n    flexDirection: \"column\",\n    flex: 1,\n    backgroundColor: STYLES.white\n  },\n  secondColumn: {\n    flexDirection: \"column\",\n    flex: 1,\n    backgroundColor: \"blue\"\n  },\n  thirdColumn: {\n    flexDirection: \"column\",\n    flex: 1,\n    backgroundColor: \"green\"\n  },\n  fourthColumn: {\n    flexDirection: \"column\",\n    flex: 0.4,\n    paddingRight: STYLES.borderRadius,\n    borderRadius: STYLES.borderRadius\n  },\n  topArea: {\n    flexDirection: \"row\",\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: STYLES.danger\n  },\n  bottomArea: {\n    flexDirection: \"row\",\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: STYLES.blue\n  },\n  text: {\n    fontFamily: STYLES.font,\n    color: STYLES.blue\n  },\n  selectableText: {\n    fontFamily: STYLES.font,\n    fontWeight: STYLES.fontWeightBold,\n    color: STYLES.white\n  },\n  map: {\n    flex: 1,\n    width: Dimensions.get(\"window\").width,\n    height: Dimensions.get(\"window\").height,\n    borderRadius: STYLES.borderRadius\n  }\n});\nexport default FlightDetailScreen;","map":{"version":3,"sources":["/Users/blake/react_native/d2lb/app/screens/FlightDetailScreen.js"],"names":["React","useRef","useEffect","MapView","Marker","Polyline","STYLES","Icon","api","FlightDetailScreen","route","navigation","markers","params","item","app_markers","polylines","app_polylines","coordinates","mapRef","deleteItem","primary_key","date","url","delete","then","response","status","Alert","alert","goBack","showAlert","text","onPress","style","cancelable","current","fitToCoordinates","styles","container","detailsPanel","firstColumn","id","secondColumn","thirdColumn","fourthColumn","topArea","bottomArea","console","log","map","top","bottom","right","left","marker","key","title","blue","StyleSheet","create","flex","flexDirection","width","margin","backgroundColor","white","borderRadius","padding","paddingRight","alignItems","justifyContent","danger","fontFamily","font","color","selectableText","fontWeight","fontWeightBold","Dimensions","get","height"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from \"react\";\nimport MapView, { Marker, Polyline } from \"react-native-maps\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  Dimensions,\n  TouchableOpacity,\n  Alert,\n} from \"react-native\";\n\nimport { STYLES } from \"../styles/styles\";\nimport Icon from \"../components/Icon\";\nimport api from \"../api/axiosConfig\";\n\nfunction FlightDetailScreen({ route, navigation }) {\n  const markers = route.params.item.app_markers;\n  const polylines = route.params.item.app_polylines.coordinates;\n  const mapRef = useRef(null);\n\n  const deleteItem = (primary_key, date, route) => {\n    const url = \"/api/flights/\" + primary_key + \"/\";\n    api.delete(url).then(function (response)\n    {\n      if (response.status === 204)\n      {\n        Alert.alert(\"Succesfully Deleted\",  date + \" \" + route + \" \" + \"#\" + primary_key);\n        navigation.goBack();\n      } else {\n        Alert.alert(\"Something went wrong, please try again\");\n      }\n    });\n  };\n\n  const showAlert = (primary_key, date, route) =>\n    Alert.alert(\"Are you sure?\", \"This can't be undone\", [\n      {\n        text: \"Yes\",\n        onPress: () => deleteItem(primary_key, date, route),\n      },\n      {\n        text: \"Cancel\",\n        style: \"cancel\",\n      },\n      {\n        cancelable: false,\n      },\n    ]);\n\n  useEffect(() => {\n    mapRef.current.fitToCoordinates(polylines);\n  }, []);\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.detailsPanel}>\n        <View style={styles.firstColumn}>\n          <Text style={styles.text}>{route.params.item.date}</Text>\n          <Text style={styles.text}>{route.params.item.id}</Text>\n        </View>\n        <View style={styles.secondColumn}></View>\n        <View style={styles.thirdColumn}></View>\n        <View style={styles.fourthColumn}>\n          <TouchableOpacity\n            style={styles.topArea}\n            onPress={() => {\n              showAlert(route.params.item.id, route.params.item.date, route.params.item.route);\n            }}\n          >\n            <View>\n              <Icon name={\"delete\"}></Icon>\n            </View>\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={styles.bottomArea}\n            onPress={() => console.log(\"update\")}\n          >\n            <View>\n              <Icon name={\"update\"}></Icon>\n            </View>\n          </TouchableOpacity>\n        </View>\n      </View>\n      <MapView\n        style={styles.map}\n        mapPadding={{\n          top: 60,\n          bottom: 10,\n          right: 40,\n          left: 40,\n        }}\n        ref={mapRef}\n      >\n        {markers.map((marker) => (\n          <Marker\n            key={marker.key}\n            coordinate={marker.coordinates}\n            title={marker.title}\n          />\n        ))}\n        <Polyline\n          strokeColor={STYLES.blue}\n          strokeWidth={3}\n          geodesic={true}\n          coordinates={polylines}\n        />\n      </MapView>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: \"column\",\n  },\n  detailsPanel: {\n    flexDirection: \"row\",\n    flex: 0.2,\n    width: \"100%\",\n    margin: 5,\n    backgroundColor: STYLES.white,\n    borderRadius: STYLES.borderRadius,\n    padding: STYLES.borderRadius,\n    backgroundColor: STYLES.white,\n    borderRadius: STYLES.borderRadius,\n  },\n  firstColumn: {\n    flexDirection: \"column\",\n    flex: 1,\n    backgroundColor: STYLES.white,\n  },\n  secondColumn: {\n    flexDirection: \"column\",\n    flex: 1,\n    backgroundColor: \"blue\",\n  },\n  thirdColumn: {\n    flexDirection: \"column\",\n    flex: 1,\n    backgroundColor: \"green\",\n  },\n  fourthColumn: {\n    flexDirection: \"column\",\n    flex: 0.4,\n    paddingRight: STYLES.borderRadius,\n    borderRadius: STYLES.borderRadius,\n  },\n  topArea: {\n    flexDirection: \"row\",\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: STYLES.danger,\n  },\n  bottomArea: {\n    flexDirection: \"row\",\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: STYLES.blue,\n  },\n  text: {\n    fontFamily: STYLES.font,\n    color: STYLES.blue,\n  },\n  selectableText: {\n    fontFamily: STYLES.font,\n    fontWeight: STYLES.fontWeightBold,\n    color: STYLES.white,\n  },\n  map: {\n    flex: 1,\n    width: Dimensions.get(\"window\").width,\n    height: Dimensions.get(\"window\").height,\n    borderRadius: STYLES.borderRadius,\n  },\n});\n\nexport default FlightDetailScreen;\n"]},"metadata":{},"sourceType":"module"}