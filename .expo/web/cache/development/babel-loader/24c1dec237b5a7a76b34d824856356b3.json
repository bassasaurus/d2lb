{"ast":null,"code":"import React, { useContext } from \"react\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport FlightForm from \"../components/FlightForm\";\nimport api from \"../api/axiosConfig\";\nimport AppContext from \"../components/AppContext\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nfunction FlightUpdateScreen(_ref) {\n  var route = _ref.route;\n  var apiData = route.params.item;\n  var Context = useContext(AppContext);\n  var navigation = useNavigation();\n  Object.keys(apiData).forEach(function (key) {\n    if (apiData[key] === null) {\n      apiData[key] = \"\";\n    }\n\n    while (apiData.approaches.length < 4) {\n      apiData.approaches.push({\n        approach_type: \"\",\n        number: \"\"\n      });\n    }\n  });\n\n  var update = function update(data) {\n    var primary_key = data.id;\n    api.put(\"/api/flights/\" + primary_key + \"/\", data).then(function () {\n      navigation.navigate(\"FlightDetail\", {\n        item: data\n      });\n      Context.setActivityVisible(false);\n    }).catch(function (error) {\n      Context.setActivityVisible(false);\n      Alert.alert(\"An error occurred. \\n Please try again.\");\n    });\n  };\n\n  return React.createElement(FlightForm, {\n    method: update,\n    initialValues: apiData\n  });\n}\n\nexport default FlightUpdateScreen;","map":{"version":3,"sources":["/Users/blake/react_native/d2lb/app/screens/FlightUpdateScreen.js"],"names":["React","useContext","FlightForm","api","AppContext","useNavigation","FlightUpdateScreen","route","apiData","params","item","Context","navigation","Object","keys","forEach","key","approaches","length","push","approach_type","number","update","data","primary_key","id","put","then","navigate","setActivityVisible","catch","error","Alert","alert"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;;AAEA,OAAOC,UAAP;AACA,OAAOC,GAAP;AACA,OAAOC,UAAP;AAEA,SAASC,aAAT,QAA8B,0BAA9B;;AAEA,SAASC,kBAAT,OAAuC;AAAA,MAATC,KAAS,QAATA,KAAS;AACrC,MAAMC,OAAO,GAAGD,KAAK,CAACE,MAAN,CAAaC,IAA7B;AAEA,MAAMC,OAAO,GAAGV,UAAU,CAACG,UAAD,CAA1B;AACA,MAAMQ,UAAU,GAAGP,aAAa,EAAhC;AAEAQ,EAAAA,MAAM,CAACC,IAAP,CAAYN,OAAZ,EAAqBO,OAArB,CAA6B,UAAUC,GAAV,EAAe;AAC1C,QAAIR,OAAO,CAACQ,GAAD,CAAP,KAAiB,IAArB,EAA2B;AACzBR,MAAAA,OAAO,CAACQ,GAAD,CAAP,GAAe,EAAf;AACD;;AACD,WAAOR,OAAO,CAACS,UAAR,CAAmBC,MAAnB,GAA4B,CAAnC,EAAsC;AACpCV,MAAAA,OAAO,CAACS,UAAR,CAAmBE,IAAnB,CAAwB;AAAEC,QAAAA,aAAa,EAAE,EAAjB;AAAqBC,QAAAA,MAAM,EAAE;AAA7B,OAAxB;AACD;AACF,GAPD;;AASA,MAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,IAAD,EAAU;AACvB,QAAMC,WAAW,GAAGD,IAAI,CAACE,EAAzB;AACAtB,IAAAA,GAAG,CACAuB,GADH,CACO,kBAAkBF,WAAlB,GAAgC,GADvC,EAC4CD,IAD5C,EAEGI,IAFH,CAEQ,YAAM;AACVf,MAAAA,UAAU,CAACgB,QAAX,CAAoB,cAApB,EAAoC;AAAElB,QAAAA,IAAI,EAAEa;AAAR,OAApC;AACAZ,MAAAA,OAAO,CAACkB,kBAAR,CAA2B,KAA3B;AACD,KALH,EAMGC,KANH,CAMS,UAACC,KAAD,EAAW;AAChBpB,MAAAA,OAAO,CAACkB,kBAAR,CAA2B,KAA3B;AACAG,MAAAA,KAAK,CAACC,KAAN,CAAY,yCAAZ;AACD,KATH;AAUD,GAZD;;AAcA,SAAO,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAEX,MAApB;AAA4B,IAAA,aAAa,EAAEd;AAA3C,IAAP;AACD;;AAED,eAAeF,kBAAf","sourcesContent":["import React, { useContext } from \"react\";\nimport { Alert } from \"react-native\";\nimport FlightForm from \"../components/FlightForm\";\nimport api from \"../api/axiosConfig\";\nimport AppContext from \"../components/AppContext\";\n\nimport { useNavigation } from \"@react-navigation/native\";\n\nfunction FlightUpdateScreen({ route }) {\n  const apiData = route.params.item;\n\n  const Context = useContext(AppContext);\n  const navigation = useNavigation();\n\n  Object.keys(apiData).forEach(function (key) {\n    if (apiData[key] === null) {\n      apiData[key] = \"\";\n    }\n    while (apiData.approaches.length < 4) {\n      apiData.approaches.push({ approach_type: \"\", number: \"\" });\n    }\n  });\n\n  const update = (data) => {\n    const primary_key = data.id;\n    api\n      .put(\"/api/flights/\" + primary_key + \"/\", data)\n      .then(() => {\n        navigation.navigate(\"FlightDetail\", { item: data });\n        Context.setActivityVisible(false);\n      })\n      .catch((error) => {\n        Context.setActivityVisible(false);\n        Alert.alert(\"An error occurred. \\n Please try again.\");\n      });\n  };\n\n  return <FlightForm method={update} initialValues={apiData}></FlightForm>;\n}\n\nexport default FlightUpdateScreen;\n"]},"metadata":{},"sourceType":"module"}