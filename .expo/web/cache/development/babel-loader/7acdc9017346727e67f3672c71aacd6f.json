{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from \"axios\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nif (process.env.NODE_ENV == \"development\") {\n  if (Platform.OS === \"ios\") {\n    axios.defaults.baseURL = \"http://127.0.0.1:8000\";\n  } else {\n    axios.defaults.baseURL = \"http://10.0.2.2:8000\";\n  }\n} else {\n  axios.defaults.baseURL = \"https://www.direct2logbook.com\";\n}\n\naxios.defaults.headers.get[\"Accept\"] = \"application/json\";\naxios.defaults.headers.post[\"Accept\"] = \"application/json\";\nvar api = axios.create();\napi.interceptors.request.use(function _callee(config) {\n  var token;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n        case 2:\n          token = _context.sent;\n\n          if (token) {\n            config.headers.Authorization = \"Token \" + token;\n          }\n\n          return _context.abrupt(\"return\", config);\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}, function (error) {\n  return Promise.reject(error);\n});\nexport default api;","map":{"version":3,"names":["axios","AsyncStorage","process","env","NODE_ENV","Platform","OS","defaults","baseURL","headers","get","post","api","create","interceptors","request","use","config","getItem","token","Authorization","error","Promise","reject"],"sources":["/Users/blake/react_native/d2lb/app/api/axiosConfig.js"],"sourcesContent":["import axios from \"axios\";\nimport { Platform } from \"react-native\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nif (process.env.NODE_ENV == \"development\") {\n  if (Platform.OS === \"ios\") {\n    axios.defaults.baseURL = \"http://127.0.0.1:8000\";\n    // axios.defaults.baseURL = \"https://www.direct2logbook.com\";\n  } else {\n    axios.defaults.baseURL = \"http://10.0.2.2:8000\";\n  }\n} else {\n  axios.defaults.baseURL = \"https://www.direct2logbook.com\";\n}\n\naxios.defaults.headers.get[\"Accept\"] = \"application/json\";\naxios.defaults.headers.post[\"Accept\"] = \"application/json\";\n\nconst api = axios.create();\n\napi.interceptors.request.use(\n  async (config) => {\n    const token = await AsyncStorage.getItem(\"token\");\n    if (token) {\n      config.headers.Authorization = \"Token \" + token;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,OAAOC,YAAP,MAAyB,2CAAzB;;AAEA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAwB,aAA5B,EAA2C;EACzC,IAAIC,QAAQ,CAACC,EAAT,KAAgB,KAApB,EAA2B;IACzBN,KAAK,CAACO,QAAN,CAAeC,OAAf,GAAyB,uBAAzB;EAED,CAHD,MAGO;IACLR,KAAK,CAACO,QAAN,CAAeC,OAAf,GAAyB,sBAAzB;EACD;AACF,CAPD,MAOO;EACLR,KAAK,CAACO,QAAN,CAAeC,OAAf,GAAyB,gCAAzB;AACD;;AAEDR,KAAK,CAACO,QAAN,CAAeE,OAAf,CAAuBC,GAAvB,CAA2B,QAA3B,IAAuC,kBAAvC;AACAV,KAAK,CAACO,QAAN,CAAeE,OAAf,CAAuBE,IAAvB,CAA4B,QAA5B,IAAwC,kBAAxC;AAEA,IAAMC,GAAG,GAAGZ,KAAK,CAACa,MAAN,EAAZ;AAEAD,GAAG,CAACE,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CACE,iBAAOC,MAAP;EAAA;EAAA;IAAA;MAAA;QAAA;UAAA;UAAA,iCACsBhB,YAAY,CAACiB,OAAb,CAAqB,OAArB,CADtB;;QAAA;UACQC,KADR;;UAEE,IAAIA,KAAJ,EAAW;YACTF,MAAM,CAACR,OAAP,CAAeW,aAAf,GAA+B,WAAWD,KAA1C;UACD;;UAJH,iCAKSF,MALT;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CADF,EAQE,UAACI,KAAD,EAAW;EACT,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAVH;AAaA,eAAeT,GAAf"},"metadata":{},"sourceType":"module"}